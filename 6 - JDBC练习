alt +鼠标左键:整列编辑

在实体类中,基本数据类型建议使用其对应的包装类型


//实体类

public class Brand {
  // id主键
  private Integer id;
  //品牌名称
  private String brandName;
  //企业名称
  private String companyName;
  //排序字段
  private Integer ordered;
  //描述信息
  private String description;
  //状态:0-禁用 1-启用
  private Integer status;//因此尽量使用包装类型，这样默认值为null，而非0，以免冲突引发不必要的麻烦
  
  //下面是getter、setter、toString
  
}


查询所有数据
1.获取Connection
2.定义SQL: select * from tb_brand;
3.获取PreparedStatement对象
4.设置参数:不需要
5.执行SQL
6.处理结果:List<Brand>
7．释放资源



//代码实现

@Test
public void testSelectAll() throws Exception {
  //1．获取Connection
  //3．加载配置文件
  Properties prop = new Properties();
  prop.load(new FileInputStream("jdbc-demo/src/druid. properties"));
  //4．获取连接池对象
  DataSource dataSource = DruidDataSourceFactory.createDataSource(prop);
  //5．获取数据库连接Connection
  Connection conn = dataSource.getConnection();
  //6．定义SQL
  String sql = "select * from tb_brand;";
  //7．获取pstmt对象
  PreparedStatement pstmt = conn.prepareStatement(sql);
  //8．设置参数
  //无
  //9．执行SQL
  Resultset rs = pstmt.executeQuery();
  //10．处理结果 List<Brand>封装Brand对象，装载List集合
  Brand brand = null;
  List<Brand> brands = new ArrayList<>();
  
  while (rs.next(){
      //获取数据
      int id = rs.getInt("id");
      String brandName = rs.getString("brand_name");
      String companyName = rs.getString("company_name");
      int ordered = rs.getInt("ordered");
      String description = rs.getString("description");
      int status = rs.getInt("status");
      //封装Brand对象
      brand = new Brand();
      brand.setId(id);
      brand.setBrandName(brandName);
      brand.setCompanyName(companyName);
      brand.setOrdered(ordered);
      brand.setDescription(description);
      brand.setStatus(status);

      //装载集合
      brands.add(brand) ;

  }
  
  //11．释放资源
  rs.close();
  pstmt.close();
  conn.close();

}











